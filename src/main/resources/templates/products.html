<!DOCTYPE html>
<html>
<head>
    <title>List of Products</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link href="static/css/bootstrap.min.css" rel="stylesheet">
    <script src="static/js/jquery.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>
</head>

<body>

<nav class="navbar navbar-inverse">

    <div class="container-fluid">

        <!-- <div class="navbar-header">
             <a class="navbar-brand" href="#">OnLine:<%=SessionRater.onlineUser%> Visit:<%=SessionRater.visitUser%></a>
         </div>-->

        <ul class="nav navbar-nav">
            <li class="active">
                <a href="/findAll.do">Person</a>
            </li>
            <li><a href="/findAllCar.do">Car</a></li>
        </ul>

        <!--<ul class="nav navbar-nav navbar-right">
            <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
        </ul>-->

    </div>

</nav>

<div class="container">
    <div class="panel panel-primary">
        <div class="panel-heading">PersonInformation</div>
        <div class="panel-body">
            <!-- -->
            <form action="/save.do">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input class="form-control" id="name" name="name" type="text"/>
                </div>
                <div class="form-group">
                    <label for="family">Family:</label>
                    <input class="form-control" id="family" name="family" type="text"/>
                </div>
                <input class="btn btn-default" type="submit" value="save"/>
            </form>
            <!-- -->

            <table class="table table-hover" style="width: 100%">
                <thead>
                <tr>
                    <td>ID</td>
                    <td>NAME</td>
                    <td>FAMILY</td>
                    <td>UPDATE</td>
                    <td>DELETE</td>
                </tr>
                </thead>
                <tbody>
                <c:forEach items="${requestScope.list}" var="person">
                    <tr>
                        <form action="/update.do">
                            <td><input class="form-control" name="id" readonly type="text" value="${person.id}"></td>
                            <td><input class="form-control" name="name" type="text" value="${person.name}"></td>
                            <td><input class="form-control" name="family" type="text" value="${person.family}"></td>
                            <td><input class="form-control" type="submit" value="UPDATE"></td>
                            <td><input class="form-control" onclick="deletePerson(${person.id})" type="button"
                                       value="DELETE"></td>
                        </form>
                    </tr>

                </c:forEach>
                </tbody>
            </table>
        </div>

    </div>
</div>

<script>
    function deletePerson(id) {
        if (confirm("r u sure?"))
            window.location = "delete.do?id=" + id;
    }
</script>
</body>
</html>
